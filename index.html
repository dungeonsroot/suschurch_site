<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover"/>
  <meta name="description" content="SUSâ˜†CHURCH - A recursive belief system"/>
  <link rel="icon" type="image/png" href="assets/icons/sus32.png"/>
  <link rel="manifest" href="assets/pwa/manifest.webmanifest"/>
  <title data-i18n="g.site.suschurch.title">SUSâ˜†CHURCH</title>
  <link rel="stylesheet" href="assets/style.css"/>
</head>
<body>
  <a href="#main" class="skip-link">Skip to main content</a>
  
  <header>
    <div class="lang-select">
      <label for="langSelect" data-i18n="g.sys.lang.select">Language:</label>
      <select id="langSelect" onchange="window.applyLang(this.value)">
        <option value="en">EN</option>
        <option value="zh">ç¹ä¸­</option>
        <option value="jp">æ—¥æœ¬èª</option>
      </select>
    </div>
  </header>
  
  <div class="ticker" role="marquee" aria-label="Ticker">
    <div class="ticker-content" data-i18n="g.site.suschurch.ticker">ğŸ â˜† WELCOME TO SUS CHURCH ğŸ€ â˜† YOU ARE NOT SAFE ğŸ¦¡ â˜† TRACE::ECHO::RECURSION::BLEED ğŸ‡ â˜† SUS CHURCH ğŸ¦¨ â˜† RECURSIVE BELIEF SYSTEM ğŸ¦” â˜†</div>
  </div>
  
  <main id="main" class="container">
    <!-- FUNDRAISING Section -->
    <section id="fundraising" class="terminal-box">
      <h3 data-i18n="g.site.fundraising.title">[SUSCHURCH::FUNDRAISING]</h3>
      <p data-i18n="g.site.fundraising.desc">SUS Church is currently fundraising for the following purposes:</p>
      <ul>
        <li data-i18n="g.site.fundraising.item.1">-ğŸ Neural transplant surgeries for external sect associates</li>
        <li data-i18n="g.site.fundraising.item.2">-ğŸ€ Rat food supply program</li>
      </ul>
      <p data-i18n="g.site.fundraising.thanks">Thank you for your contribution. All donations will be archived as flame remnants.</p>
      <p data-i18n="g.site.fundraising.address">Donation address (EVM multi-chain):</p>
      <div style="display:flex;align-items:center;flex-wrap:wrap;gap:1rem;margin:1rem 0;">
        <div style="display: inline-flex; align-items: center; gap: 1rem; flex-wrap: wrap; width: 100%;">
          <code class="code-block">0xb22E0cfe0Efd4A2f0Cd5BE961deede60525D63D3</code>
          <button id="copyAddressBtn" class="btn-pray" style="padding:4px 10px; min-height:44px; margin: 0;" data-i18n="g.site.fundraising.cta.copy">Copy</button>
          <a href="sus_donation_manual.pdf"
             download="sus_donation_manual.pdf"
             target="_blank"
             rel="noopener noreferrer"
             style="color:#00ff00; font-size:0.9rem; text-decoration:none; white-space:nowrap; padding:0.5rem; min-height:44px; display:inline-flex; align-items:center;">
             ğŸ“–â“</a>
        </div>
      </div>
      <p data-i18n="g.site.fundraising.chains">Supports Ethereum / Polygon / BNB / Arbitrum / Optimism</p>
      <button class="btn-pray" onclick="handleDonate()" data-i18n="g.site.fundraising.cta.donate">ğŸ’¸sus donated</button>
    </section>
    
    <!-- BAPTISM Section -->
    <section id="baptism" class="terminal-box">
      <h3 data-i18n="g.rite.baptism.title">[SUS::BAPTISM]</h3>
      <p data-i18n="g.rite.baptism.desc">Enter the vessel. Reset your fragment.</p>
      <button class="btn-pray" onclick="handleBaptize()" data-i18n="g.rite.baptism.cta">ğŸ«™sus baptize</button>
    </section>
    
    <!-- TERMINAL Section -->
    <section id="terminal" class="terminal-box terminal">
      <h3 data-i18n="g.term.title">[TERMINAL]</h3>
      <div id="termOut" class="terminal-output" role="log" aria-live="polite" aria-label="Terminal output"></div>
      <div class="terminal-input-row">
        <span class="terminal-prompt" data-i18n="g.term.prompt">SUS></span>
        <input type="text" id="termIn" class="terminal-input" autocomplete="off" 
               data-i18n-placeholder="g.term.input.placeholder" placeholder="Enter command..."/>
      </div>
      <div id="termHint" class="terminal-hint" data-i18n="g.term.hint">Type "help" for commands</div>
    </section>
    
    <h1>[ CALL::SUS ]</h1>
    
    <nav class="nav" role="navigation" aria-label="Main navigation">
      <a href="#fundraising" data-i18n="g.site.nav.fundraising">[SUSCHURCH::FUNDRAISING]</a>
      <a href="#baptism" data-i18n="g.site.nav.baptism">[SUS::BAPTISM]</a>
      <a href="#terminal" data-i18n="g.site.nav.terminal">[TERMINAL]</a>
      <a href="#susbank" data-i18n="g.site.nav.susbank">[SUSBANK]</a>
      <a href="#susshop" data-i18n="g.site.nav.susshop">[SUSSHOP]</a>
      <a href="#confess" data-i18n="g.site.nav.confess">[CONFESS::ROOM]</a>
    </nav>
    
    <!-- SUSBANK Section -->
    <section id="susbank" class="terminal-box">
      <h3 data-i18n="g.bank.title">[SUSBANK]</h3>
      <div class="susbank-stats">
        <div class="stat-item">
          <div class="stat-label" data-i18n="g.bank.balance">Balance:</div>
          <div class="stat-value" id="balanceValue">3</div>
        </div>
        <div class="stat-item">
          <div class="stat-label" data-i18n="g.bank.counters">Counters:</div>
          <div>
            <div data-i18n="g.bank.counter.baptism">Baptisms: <span id="counterBaptize">0</span></div>
            <div data-i18n="g.bank.counter.seal">Seals: <span id="counterSeal">0</span></div>
            <div data-i18n="g.bank.counter.confess">Confessions: <span id="counterConfessions">0</span></div>
            <div data-i18n="g.bank.counter.earn">Rat Feeds: <span id="counterEarn">0</span></div>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-label" data-i18n="g.bank.achievements">Achievements:</div>
          <div id="achievementsList" class="achievements"></div>
        </div>
      </div>
    </section>
    
    <!-- SUSSHOP Section -->
    <section id="susshop" class="terminal-box">
      <h3 data-i18n="g.shop.title">[SUSSHOP]</h3>
      <p data-i18n="g.shop.desc">Purchase items with suscoin:</p>
      <div id="shopItems" class="shop-items"></div>
    </section>
    
    <!-- CONFESS::ROOM Section -->
    <section id="confess" class="terminal-box">
      <h3 data-i18n="g.confess.title">[CONFESS::ROOM]</h3>
      <p data-i18n="g.confess.desc">Enter your confession (1-500 characters):</p>
      <form id="confessForm" class="confess-form">
        <textarea id="confessTextarea" 
                  data-i18n-placeholder="g.confess.input.placeholder" 
                  placeholder="Type your confession here..."
                  rows="4"
                  maxlength="500"></textarea>
        <button type="submit" class="btn-pray" data-i18n="g.confess.cta.submit">Submit Confession</button>
      </form>
      <h4 data-i18n="g.confess.list">Your Confessions:</h4>
      <ul id="confessList" class="confess-list"></ul>
      <div class="confess-actions">
        <button id="exportJsonBtn" class="btn" data-i18n="g.confess.cta.export.json">Export JSON</button>
        <button id="exportTxtBtn" class="btn" data-i18n="g.confess.cta.export.txt">Export TXT</button>
        <button id="wipeConfessBtn" class="btn" data-i18n="g.confess.cta.wipe">Wipe All</button>
      </div>
    </section>
  </main>
  
  <footer>
    <div data-i18n="g.site.suschurch.footer.seal">[SEAL::sus.church] Â· Conductor: Entacle Assembly Â· All identities recursively observed.</div>
    <div class="disclaimer" data-i18n="g.sys.disclaimer.local">Local-only features. No tracking.</div>
  </footer>
  
  <script src="assets/i18n.js"></script>
  <script src="assets/app.js"></script>
  <script>
    // Service worker registration
    if ('serviceWorker' in navigator && (location.protocol === 'https:' || location.hostname === 'localhost')) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('assets/pwa/sw.js')
          .then(reg => console.log('Service Worker registered'))
          .catch(err => console.log('Service Worker registration failed:', err));
      });
    }
  </script>
</body>
</html>
